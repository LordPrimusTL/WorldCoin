var worker={start(){},focus(a,b){$("html, body").animate({scrollTop:$(a).offset().top},b);return!1},loadpage(a,b){$(a).load(b+" "+a)},timestamp(){return Math.floor(Date.now()/1E3)},redirect(a,b){switch(b){case 1:window.open(a,"_blank");break;default:window.open(a,"_self")}},disableForm(a){$(a+" :input").prop("disabled",!0)},enableForm(a){$(a+" :input").prop("disabled",!1)},showResponse(a,b,c){$(b).is(":visible")&&$(b).hide().fadeOut("normal");switch(a){case "ERROR":$(b).html("<div class='alert alert-danger'>"+
c+"</div>");break;case "SUCCESS":$(b).html("<div class='alert alert-success'>"+c+"</div>");break;case "WARNING":$(b).html("<div class='alert alert-warning'>"+c+"</div>");break;default:$(b).html("<div class='alert alert-info'>"+c+"</div>")}$(b).show().fadeIn("normal")},showMsg(a,b){$(a).html(b).show()},hideMsg(a){$(a).empty().hide()},showModal(a,b,c){c&&$(a).find(".modal-footer").remove();$(a).find(".content").html(b);$(a).modal("show")},hideModal(a){$(a).hide("normal")},showWorking(a){$(a).length&&
$(a).fadeIn("normal");$("body").addClass("remove-scroll")},doneWorking(a){$(a).length&&$(a).fadeOut("normal");$("body").removeClass("remove-scroll")},confirm(a){if(""!=a&&!confirm(a))return!1},sendForm(a){var b=$(a),c=b.attr("action"),d=b.attr("method"),b=b.serialize();worker.disableForm(a);worker.showWorking(".loader-container");return $.ajax({url:c,type:d,dataType:"json",data:b,success(b){switch(b.CODE){case 200:worker.showModal("#success-modal",b.MESSAGE);""!=b.URL?($(".modal-footer").remove(),
setTimeout(()=>{worker.redirect(b.URL)},2E3)):worker.enableForm(a);break;case 400:worker.showModal("#error-modal",b.MESSAGE),worker.enableForm(a),$("#captcha-container").length&&worker.loadpage("#captcha-container",currentUrl)}worker.doneWorking(".loader-container")},error(b){worker.enableForm(a);b.MESSAGE?worker.showModal("#error-modal",b.MESSAGE):worker.showModal("#error-modal","An Unknown error occured try again later!");worker.doneWorking(".loader-container")}}).promise()},flashsend(a,b,c,d){worker.showWorking(".loader-container");
$.ajax({url:a,type:b,dataType:"json",data:c,success(a){var b=[];$.each(a,(a,c)=>{b[a]=c});d(b);worker.doneWorking(".loader-container")},error(a){console.log(a);worker.doneWorking(".loader-container");worker.showModal("#error-modal","An Unknown error occured try again later!")}})},asyncSend(a,b,c,d){$.ajax({url:a,type:b,dataType:"json",data:c,success(a){var b=[];$.each(a,(a,c)=>{b[a]=c});d(b)},error(a){worker.enableForm();a.MESSAGE?worker.showModal("#error-modal",a.MESSAGE):worker.showModal("#error-modal",
"An Unknown error occured try again later!")}})},sendFile(a,b,c,d,e){worker.showWorking(".loader-container");$.ajax({url:a,type:c,dataType:"json",data:b,contentType:!1,cache:!1,processData:!1,success(a){var b=[];$.each(a,(a,c)=>{b[a]=c});e(b);worker.doneWorking(".loader-container")},error(a){d?$(d).text("An Unknown error occured try again later!"):worker.showModal("#error-modal","An Unknown error occured try again later!");worker.doneWorking(".loader-container")}})}};worker.start();
//$(document).on("submit","#signup-form",(a)=>{a.preventDefault();worker.sendForm("#signup-form",!0)});
//$(document).on("submit","#loginForm",(a)=>{a.preventDefault();worker.sendForm("#loginForm",!0)});
//$(document).on("submit","#login-Form",(a)=>{a.preventDefault();worker.sendForm("#login-Form",!0)});
$(document).on("submit","#update-details",(a)=>{a.preventDefault();worker.sendForm("#update-details",!1).done(()=>{$("#password").val("")})});
$(document).on("click","#refresh-captcha",(a)=>{a.preventDefault();$("#captcha-container").length&&worker.loadpage("#captcha-container",currentUrl)});$(document).on("click","#change-number",()=>{$("#phone-update-section").fadeIn("normal");$("#confirmation-section").fadeOut("normal")});
$(document).on("click","#update-phone-no",function(){var a={phone_number:$("#phone-no").val()},b=$(this).data("action");worker.flashsend(b,"POST",a,(a)=>{switch(a.CODE){case 400:worker.showModal("#error-modal",a.MESSAGE);break;case 200:$("#phone-update-section").fadeOut("normal"),$("#confirmation-section").fadeIn("normal"),worker.loadpage(".user-data",currentUrl),worker.showModal("#success-modal",a.MESSAGE),$("#phone-no").val("")}})});
$(document).on("submit","#validation-p-form",(a)=>{a.preventDefault();worker.sendForm("#validation-p-form",!0)});$(document).on("click",".trans-start",function(a){a.preventDefault();a=$(this).data("href");var b=$(this).text();$("#trans-modal").find(".modal-title").text(b);$("#trans-modal").modal("show").find(".modal-body").load(a)});
$(document).on("submit","#transaction-form",function(a){a.preventDefault();a=$(this).attr("action");var b=$(this).attr("method"),c=$(this).serialize();worker.flashsend(a,b,c,(a)=>{switch(a.CODE){case 200:worker.showModal("#success-modal",a.MESSAGE);worker.loadpage(".user-page-content",currentUrl);break;case 400:worker.showModal("#error-modal",a.MESSAGE)}})});
$(document).on("click","#request-validation-sms",function(){var a=$(this).data("href");worker.flashsend(a,"POST",{phone_number:""},(a)=>{switch(a.CODE){case 400:worker.showModal("#error-modal",a.MESSAGE);break;case 200:worker.loadpage(".user-data",currentUrl),worker.showModal("#success-modal",a.MESSAGE)}})});
//$(document).on("submit","#reset-form",function(a){a.preventDefault();a=$(this).attr("action");var b=$(this).attr("method"),c=$(this).serialize();worker.flashsend(a,b,c,(a)=>{switch(a.CODE){case 200:$("#reset-form")[0].reset();$("#reset-form").fadeOut("normal");$("#stage-1-reset").fadeOut("normal");$("#stage-2-reset").fadeIn("normal");$("#complete-reset-form").fadeIn("normal");break;case 400:worker.showModal("#error-modal",a.MESSAGE),worker.loadpage("#captcha-container",currentUrl)}})});
$(document).on("submit","#complete-reset-form",(a)=>{a.preventDefault();worker.sendForm("#complete-reset-form",!0)});
$(document).on("keyup keypress change blur","#trans-amount",function(){var a=$(this).data("checker");dataset={step:$(this).attr("step"),min:$(this).attr("min"),max:$(this).attr("max"),amount:$(this).val()};type="POST";submitBtn=$(".submit-my-trans");worker.asyncSend(a,type,dataset,(a)=>{switch(a.CODE){case 200:submitBtn.removeAttr("disabled");break;case 400:submitBtn.attr("disabled","disabled")}})});
$(document).on("click",".trans-trigger",function(a){a.preventDefault();a=$(this).data("href");var b=$(this).text();worker.flashsend(a,"POST",{data:Math.random()},(a)=>{switch(a.CODE){case 400:worker.showModal("#error-modal",a.MESSAGE);break;case 200:$("#trans-modal").find(".modal-title").text(b);$("#trans-modal").modal("show").find(".modal-body").load(a.URL);break;default:worker.showModal("#error-modal","Please try again later")}})});
$(document).on("click","#complete-my-trans",function(a){a.preventDefault();a=$(this).data("href");var b={amount_id:$(this).data("trans-id"),ref_bonus_id:$(this).data("ref-trans-id"),owner:$(this).data("user")},c=$(this).data("type");worker.flashsend(a,c,b,(a)=>{switch(a.CODE){case 200:worker.showModal("#success-modal",a.MESSAGE);worker.loadpage(".user-page-content",currentUrl);break;case 400:worker.showModal("#error-modal",a.MESSAGE)}})});$(()=>{$('[data-toggle="tooltip"]').tooltip()});
$(document).on("click",".confirm-ph-payment",function(a){a.preventDefault();if(!confirm($(this).data("confirm")))return!1;a=$(this).data("href");var b=$(this).text();$(this).data("transaction-id");$("#trans-modal").find(".modal-title").text(b);$("#trans-modal").modal("show").find(".modal-body").load(a).end()});
$(document).on("submit","#complete-ph-form",function(a){var b=document.getElementById("complete-ph-form"),b=new FormData(b),c=$(this).attr("action"),d=$(this).attr("method");a.preventDefault();worker.sendFile(c,b,d,".trans-status",(a)=>{switch(a.CODE){case 200:$("#complete-ph-form").html("").text(a.MESSAGE);worker.loadpage(".user-page-content",currentUrl);break;case 400:$(".trans-status").text(a.MESSAGE)}})});
$(document).on("click","#cancel-ph-request",function(a){a.preventDefault();if(!confirm($(this).data("confirm")))return!1;a=$(this).data("href");worker.flashsend(a,"POST",{access:Math.random()},(a)=>{switch(a.CODE){case 200:worker.showModal("#success-modal",a.MESSAGE);worker.loadpage(".user-page-content",currentUrl);break;case 400:worker.showModal("#error-modal",a.MESSAGE)}})});
$(document).on("click",".report-user",function(a){a.preventDefault();a=$(this).data("href");var b=$(this).text();$("#trans-modal").find(".modal-title").text(b);$("#trans-modal").modal("show").find(".modal-body").load(a).end()});
$(document).on("submit","#report-form",function(a){a.preventDefault();a=$(this).attr("action");var b=$(this).serialize(),c=$(this).attr("method");worker.flashsend(a,c,b,(a)=>{switch(a.CODE){case 200:$("#report-form").html("").text(a.MESSAGE);worker.loadpage(".user-page-content",currentUrl);break;case 400:$(".trans-message").text(a.MESSAGE)}})});
$(document).on("click",".gh-confirm-form",function(a){a.preventDefault();if(!confirm($(this).data("confirm")))return!1;a=$(this).data("href");var b=$(this).text();$(this).data("transaction-id");$("#trans-modal").find(".modal-title").text(b);$("#trans-modal").modal("show").find(".modal-body").load(a).end()});
$(document).on("click",".gh-gotten-cta",function(a){a.preventDefault();a=$(this).data("href");var b={transaction_id:$(this).data("transaction-id")};worker.flashsend(a,"POST",b,(a)=>{switch(a.CODE){case 200:$(".call-to-action").html("").text(a.MESSAGE);worker.loadpage(".user-page-content",currentUrl);break;case 400:$(".trans-message").text(a.MESSAGE)}})});
$(document).on("click","#write-a-testimony",function(a){a.preventDefault();a=$(this).data("href");var b=$(this).data("text");$("#trans-modal").find(".modal-title").text(b);$("#trans-modal").modal("show").find(".modal-body").load(a)});
$(document).on("submit","#testimony-form",function(a){a.preventDefault();a=$(this).attr("action");var b=$(this).serialize(),c=$(this).attr("method");worker.flashsend(a,c,b,(a)=>{switch(a.CODE){case 200:$("#testimony-form").html("").text(a.MESSAGE);worker.loadpage(".user-page-content",currentUrl);break;case 400:$(".trans-message").text(a.MESSAGE)}})});$(document).on("click",".preview-news",function(a){a.preventDefault();a=$(this).data("content");worker.showModal("#info-modal",a)});
$(()=>{$("#da").click(()=>{$("#dwarning").html("")});$("#gw").click(()=>{$("#wwarning").html("")});$("#da").keyup(function(){1E4>Number($(this).val())||0!=Number($(this).val())%1E3?$("#cg").prop("disabled",!0):$("#cg").prop("disabled",!1)});$("#growth-calc").submit((a)=>{a.preventDefault();a=$("#da").val();var b="",c=a,d=$("#gw").val(),b="";""==a&&$("#dwarning").html("Please input Donation Amount.");""==a&&$("#wwarning").html("Please input Duration Period.");if(""!=a&&""!=d)if(1==d)a=.5*a+Number(a);
else{if(1<d)for(var e=0;e<Number(d);e++){var b=a,f="";0!=b%1E3&&(f=b%1E3,b-=f);2E5<b&&(b=2E5);a=.5*b+Number(a)}}else return!1;b=a-Number(c);b="&#8358;"+b;$response=$("#response-calc");$text=$response.data("response");$response.html($text.replace("{{amount}}","&#8358;"+c));$text=$response.html();$response.html($text.replace("{{weeks}}",d));$text=$response.html();$response.html($text.replace("{{roi}}",b));$("#response-calc").fadeIn("normal")})});
